<header>
  <h1><%= listName %></h1>
  <h2>QLab <%= data.version || "" %></h2>
</header>

  
  <% if(data.permission=="ok"){
    for(const workspace_id in data.workspaces){
      const workspace = data.workspaces[workspace_id];
      for(const cueList_id in workspace.cueLists){
        const ql = workspace.cueLists[cueList_id]; %>
        
        <% if(ql.type=="Cue List"){ %>
          <%= templates.cuelist({cueList: ql, allCues: workspace.cues, rowTemplate: templates.cue, workspace: workspace}) %>
        <% }else if(ql.type=="Cart"){ %>
          <%= templates.cart({cueList: ql, allCues: workspace.cues, tileTemplate: templates.tile}) %>
        <% } %>

<% }}}else if(data.permission=="no workspaces"){ %>

  <h3>QLab is launched but there are no open Workspaces</h3>

<% }else if(data.permission=="denied"){ %>

  <h3>Incorrect Passcode or OSC Access Permissions</h3>
  <button href="https://qlab.app/docs/v5/fundamentals/workspace-settings#the-osc-access-tab">QLab Documentation: OSC Access Tab</button>

<% } %>
